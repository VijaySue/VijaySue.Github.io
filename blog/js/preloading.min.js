'use strict'; $(document).ready(function () { var a = $('#article-content .card-img,#banner-box img'); a.each(function () { var b = new Image, c = $(this), d = c.attr('bsrc'); $(b).on('load', c, function () { c.css('opacity', 0).attr('src', this.src).fadeTo(300, 1) }).on('error', c, function () { c.css('opacity', 0).attr('src', c.attr('error')).fadeTo(300, 1) }), b.src = d }) });